(this.webpackJsonpfrontend_react=this.webpackJsonpfrontend_react||[]).push([[0],{14:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var o=n(1),s=n(8),r=n.n(s),c=(n(14),n(2)),a=n(3),i=n(5),d=n(4),u=n(7),p=n.n(u),l=n(9),h=n(0),b=function(e){Object(i.a)(n,e);var t=Object(d.a)(n);function n(e){var o;return Object(c.a)(this,n),(o=t.call(this,e)).handleInputChange=function(e){o.setState({formText:e.target.term})},o.sendDataUpstream=function(e){o.state.webSocket.send(JSON.stringify({msg:"This has been send upstream!",data:e}))},console.log("Frontend loaded...."),o.state={listnersAdded:!1,isSendingData:!1,formText:"",webSocket:{}},o}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.setupWebSocket()}},{key:"setupWebSocket",value:function(){var e=new WebSocket("wss://localhost:8000/");this.setState({webSocket:e}),e.onmessage=function(e){var t=JSON.parse(e.data);console.log(t),alert(t)},e.onclose=function(e){console.error("Chat socket closed unexpectedly"),console.error(e)}}},{key:"sendMessage",value:function(){var e=Object(l.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({isTracking:!0,formText:""}),this.sendDataUpstream({message:"Tracking starts.."},!1,!0);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"center",children:[Object(h.jsx)("h1",{children:"Fill our message to send upstream"}),Object(h.jsxs)("form",{children:[Object(h.jsx)("fieldset",{children:Object(h.jsx)("label",{children:Object(h.jsx)("input",{name:"name",onChange:this.handleInputChange})})}),Object(h.jsx)("button",{type:"submit",onClick:this.sendMessage,children:"Submit"})]})]})}}]),n}(o.Component),m=function(e){Object(i.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{className:"react_app",children:Object(h.jsx)(b,{is_production:this.props.is_production})})}}]),n}(o.Component);window.component=window.component||"App",window.reactRoot=window.reactRoot||document.getElementById("react"),window.props=window.props||{};var f="is_production"in window.props&&!!window.props.is_production;window.props.ref=function(e){window.reactComponent=e},r.a.render(Object(h.jsx)(m,{is_production:f}),document.getElementById("react"))}},[[17,1,2]]]);
//# sourceMappingURL=main.4475517f.chunk.js.map